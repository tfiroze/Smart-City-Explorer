# import necessary packages
import requests
import json

url = "https://besttime.app/api/v1/forecasts"

# Add the venue IDs
venue_ids = [
    'ven_452d634f5257665176694c526b6f775a4a6b794e41574a4a496843',
    'ven_3055716a6941576458375f526b6f77595a71324664646d4a496843',
    'ven_412d3456724470426e4e74526b6f77595a3442455832334a496843',
    'ven_34307a7864685939677857526b6f77595a6f43687266644a496843',
    'ven_415745442d5a476e6b6736526b6f775a787569364655794a496843',
    'ven_4546756a7858704b6e724c526b6f7759686f55346e30354a496843',
    'ven_734847366e4c785843454c526b6f775a56366a453461744a496843',
    'ven_49523141706e4f526d6749526b6f77626472504d48544e4a496843',
    'ven_4167636c42756f62557359526b6f775a646f545a4f554b4a496843',
    'ven_592d5a6c757552454a5663526b6f77594e6f442d4d53364a496843',
    'ven_517633786e463661386438526b6f775a78387a6435336a4a496843',
    'ven_634f764b62744853334c68526b6f77594a3474633264464a496843',
    'ven_4543634c6c434732394731526b6f77595634334c5539324a496843',
    'ven_6b73387777725957506e72526b6f7759523675774f61724a496843',
    'ven_677a6b384456717362517a526b6f775a314764555866484a496843',
    'ven_632d6d6e6755514d44334b526b6f775a4e7646636234574a496843',
    'ven_6b626336327432394d3035526b6f775a70382d6b33396d4a496843',
    'ven_494949337863683779395a526b6f7759565a7a4278376a4a496843',
    'ven_383376344352334731734c526b6f775a397834464765584a496843',
    'ven_51686c716e456d45333074526b6f77595a596f4646367a4a496843',
    'ven_516f363557796f714e6278526b6f7759426d424c4d38304a496843',
    'ven_6776747147655a49456362526b6f775970346b506435334a496843',
    'ven_6f4e385436506f42426253526b6f775a314c72724e38484a496843',
    'ven_6355616956797644457343526b6f775a52434c554865754a496843',
    'ven_4168564337556275456b32526b6f77595234653639395a4a496843',
    'ven_4d5f796b4a6c4869385663526b6f7759746249363051344a496843',
    'ven_30516242387878596e4d41526b6f775a745f427a7766494a496843',
    'ven_6b49317057486770392d52526b6f775a78756b736d30454a496843',
    'ven_386e2d62767166486c7779526b6f77596859702d3153444a496843',
    'ven_414f4236534b5a33597552526b6f775a356e692d4a77364a496843',
    'ven_456c385672447639765472526b6f775a646c47665031314a496843',
    'ven_45594a653355315a67485a526b6f775a647548466537304a496843',
    'ven_517a58434f57747944772d526b6f77595649306c47366c4a496843',
    'ven_636130314f4b4966575079526b6f77596466596b4c38414a496843',
    'ven_6b796b45634a4f6f543835526b6f7759706f32395278414a496843',
    'ven_6b744e4d7879364d774545526b6f775935377a4f3538564a496843',
    'ven_6b735f37687a4c384b4c69526b6f77595a344156747a714a496843',
    'ven_4137525a654a5847523339526b6f7759565947747755764a496843',
    'ven_3064534a7a764e39324a57526b6f773237484e74705f374a496843',
    'ven_41376c4250617776697758526b6f775a684b366e35524e4a496843',
    'ven_414e2d4c6577686f464e42526b6f775a564c686a5732714a496843',
    'ven_734969676865707a73764e526b6f7759522d6b617a32554a496843',
    'ven_34596e4168593651507471526b6f775952656a763530414a496843',
    'ven_344c724273656a51474574526b6f77596c496e596553534a496843',
    'ven_51733774735866624f6c53526b6f7759396671795179754a496843',
    'ven_4d79736a4a727a504f415a526b6f77594e59644e6232714a496843',
]

# print(venue_ids)

params = {
    'api_key_private': 'pri_a808a2b071b64b808f10b26df9feede4',
}

data = []

for venue_id in venue_ids:
    params['venue_id'] = venue_id

    try:
        response = requests.post(url, params=params)
        # Raise an exception if the response status is not successful
        response.raise_for_status()
        data.append(response.json())
    except requests.exceptions.RequestException as e:
        print(f"An error occurred while querying venue ID {venue_id}: {e}")

with open('restaurant_data.json', 'w') as file:
    json.dump(data, file, indent=6)

print("Data saved to restaurant_data.json")
